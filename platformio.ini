[env:esp32dev]
platform = espressif32@6.7.0
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600
upload_protocol = esptool

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=2
    -DMODEM_RX_PIN=16
    -DMODEM_TX_PIN=17
    -DCAN1_RX_PIN=22
    -DCAN1_TX_PIN=21
    -DCAN2_RX_PIN=35
    -DCAN2_TX_PIN=33
    -DMODEM_DTR_PIN=4
    -DMODEM_EN_PIN=27
    -DMODEM_NET_PIN=26
    -DLED_PIN=2
    -DMQTT_MAX_PACKET_SIZE=4096
    -Wno-missing-field-initializers

; Required libraries for ESP32 + LTE/CAN/MQTT
lib_deps =
    PubSubClient@2.8
    ArduinoJson@6.21.4
    
; Optional libraries (can be added later)
; lib_deps =
;     TinyGSM@0.11.7  ; For generic modem support if needed
;     CAN_BUS_Shield@2.0.0  ; Only if using SPI-based CAN modules

; Serial Monitor filters
monitor_filters =
    esp32_exception_decoder
    time

; Board-specific settings
board_build.f_cpu = 240000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dio
board_build.flash_size = 4MB

; C/C++ compiler settings
build_unflags =
    -Wall
build_flags =
    ${env:esp32dev.build_flags}
    -Wno-error=format
    -Wno-error=unused-variable
    -Wno-error=unused-but-set-variable

; Debug settings (optional)
; debug_tool = esp-prog
; debug_init_break = tbreak setup

; OTA update settings (optional)
; upload_port = 192.168.1.100
; upload_protocol = espota

; SPIFFS/LittleFS filesystem (optional for future use)
; board_build.partitions = default.csv
